## Object.*

#### 对象的扩展/密封/冻结相关方法

##### Object.preventExtensions()

* 描述：

该方法用来将一个对象变成不可扩展的对象，不可扩展指的是：

> * 不允许为该对象添加新的属性

> * 该对象的原型是不可变的(`immutable`)，即原型不可被修改

但是现有的属性可以：

> * 被删除(使用 `delete` 操作符)

> * 现有属性的值可以被修改

如果给一个不可扩展的对象添加新的属性，会静默失败，如果在严格模式(`'use strict'`)下会抛出一个错误。

* 参数：

期望接收一个对象作为参数，如果不是对象，那么按照 `ES5` 的规范会报错，而 `ES6` 规定把非对象参数将被视为不可扩展的普通对象，不会报错

* 返回值：传入的参数是什么，就返回什么。

##### Object.seal()

* 描述：

该方法用来密封(`seal`)一个对象，被密封的对象将：

> * 不允许为该对象添加新的属性，不允许删除(`delete`)现有属性

> * 该对象的所有属性将变成不可配置的(`non-configurable`)

> * 不允许将该对象的数据属性(`data properties`)转为访问器属性(`accessor properties`)，反之亦然

> * 该对象的原型是不可变的(`immutable`)，即原型不可被修改

但是可以：

> * 修改现有属性的值

* 参数：

期望接收一个对象作为参数，如果不是对象，那么按照 `ES5` 的规范会报错，而 `ES6` 规定把非对象参数将被视为不可扩展的普通对象，不会报错

* 返回值：传入的参数是什么，就返回什么。

##### Object.freeze()

* 描述：冻结一个对象，被冻结的对象将

> * 不允许为该对象添加新的属性，不允许删除(`delete`)现有属性，不允许修改属性的值

> * 该对象的所有属性将变成不可配置的(`non-configurable`)

> * 不允许将该对象的数据属性(`data properties`)转为访问器属性(`accessor properties`)，反之亦然

> * 该对象的原型是不可变的(`immutable`)，即原型不可被修改

* 注意：冻结指的是浅冻结(`freeze is shallow`)，需要递归的冻结一个深对象。

* 参数：

期望接收一个对象作为参数，如果不是对象，那么按照 `ES5` 的规范会报错，而 `ES6` 规定把非对象参数将被视为不可扩展的普通对象，不会报错

* 返回值：传入的参数是什么，就返回什么。

##### Object.isExtensible()

* 描述：检查一个对象是否是可扩展的

* 参数：期望接收一个对象作为参数，如果不是对象，那么按照 `ES5` 的规范会报错，而 `ES6` 规定把非对象参数将被视为不可扩展的普通对象，返回 `false` 不会报错

* 返回值：一个布尔值，如果为 `true` 代表对象可扩展，为 `false` 代表对象不可扩展

* 注意：使用 `Object.preventExtensions`、`Object.seal` 和 `Object.freeze` 处理的对象都是不可扩展的。

##### Object.isSealed()

* 描述：检查一个对象是否是密封的，满足以下条件的对象都属于密封的对象：

> * 使用 `Object.seal` 处理的对象是密封的

> * 使用 `Object.preventExtensions` 处理的 `空对象` 是密封的

> * 如果一个对象所有的属性都是不可配置的(`non-configurable`)，则该对象是密封的

* 参数：期望接收一个对象作为参数，如果不是对象，那么按照 `ES5` 的规范会报错，而 `ES6` 规定把非对象参数将被视为不可扩展的普通对象，返回 `true` 不会报错

* 返回值：一个布尔值，如果为 `true` 代表对象是密封的，为 `false` 代表对象不是密封的

##### Object.isFrozen()

* 描述：检查一个对象是否被冻结，满足以下条件的对象都属于被冻结的对象：

> * 使用 `Object.freeze` 处理的对象是被冻结的

> * 使用 `Object.preventExtensions` 或 `Object.seal` 处理的 `空对象` 是被冻结的

> * 如果一个对象所有的属性都是不可写的(`non-writable`)且不可配置的(`non-configurable`)，则该对象是被冻结的

##### `preventExtensions`、`seal` 和 `freeze` 的比较

简单总结如下：

* 使用 `Object.preventExtension` 处理过的对象为不可扩展的，意思是不能够为该对象添加新属性，但已有属性时可写且可配置的

* 使用 `Object.seal` 处理的对象是密封的，在不可扩展的基础上，已有属性都是不可配置的，但可写

* 使用 `Object.freeze` 处理的对象是冻结的，在密封的基础上，不可写

三个方法都是用来限制对象的扩展性的，他们的关系如下：

* 如果一个对象是被冻结(`frozen`)的，那么该对象一定是密封(`seal`)的和不可扩展(`preventExtensions`)的
* 如果一个对象是密封(`seal`)的，那么该对象一定是不可扩展(`preventExtensions`)的

三个方法限制一个对象的强烈程度为：

`Object.freeze` > `Object.seal` > `Object.preventExtension`